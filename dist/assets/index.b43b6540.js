(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const i="live_qcN6ZweDdCLloKKYvGxW2uwIOoPsNI6pe4cmVaweRF2cGdm2Wbwwzh3sXSZNY2mX",h="https://api.thecatapi.com/v1/images/search?limit=3",g="https://api.thecatapi.com/v1/images/upload",d="https://api.thecatapi.com/v1/favourites",y=document.getElementById("errorPeticion"),u=document.getElementById("favouritesCats"),m=document.getElementById("randomCats");async function f(){const t=await(await fetch(`${h}&api_key=${i}`)).json();m.textContent="",t.forEach((n,s)=>{const e=document.createElement("article"),o=document.createElement("div"),c=document.createElement("img"),r=document.createElement("button");e.className="relative min-w-72 rounded-md overflow-hidden",c.className="w-72  h-72",c.setAttribute("id",n.id),c.setAttribute("src",n.url),c.alt="Una foto de gatos",r.className="absolute top-2 right-2 bg-white rounded-xl px-4 shadow-2xl",r.textContent="Fav \u{1F5A4}",o.className="w-full",o.append(r,c),e.appendChild(o),n&&m.appendChild(e),r.addEventListener("click",()=>{r.textContent="Fav \u{1F9E1}",p(n.id)})})}async function l(){const a=await fetch(`${d}`,{method:"GET",headers:{"x-api-key":i}});if(a.status!==200)y.innerHTML="Hubo un error "+a.status;else{const t=await a.json();u.textContent="",t.reverse().forEach(n=>{const s=document.createElement("article"),e=document.createElement("img"),o=document.createElement("button");s.className=" h-64 min-w-80 relative rounded-md overflow-hidden",e.className="w-80  h-full",e.setAttribute("id",n.id),e.setAttribute("src",n.image.url),e.alt="Una foto de gatos",o.className="absolute top-2 right-2 bg-white rounded-xl px-4 shadow-2xl",o.textContent="Fav \u{1F9E1}",s.append(o,e),o.addEventListener("click",()=>{w(n.id)}),u.append(s)})}}async function p(a){const t=await fetch(`${d}`,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":i},body:JSON.stringify({image_id:a})});console.log(t);const n=await t.json();console.log(n),t.status===200&&console.log("Status: "+t.status+" Mensaje: "+n.message),l()}async function w(a){const t=await fetch(`${d}/${a}`,{method:"DELETE",headers:{"x-api-key":i}}),n=await t.json();t.status===200?(console.log("Status: "+t.status+" Mensaje: "+n.message),l()):console.log("Status: "+t.status+" Mensaje: "+n.message)}async function v(){const a=document.getElementById("uploadingForm"),t=new FormData(a);console.log(t.get("file"));const s=await(await fetch(`${g}`,{method:"POST",headers:{"x-api-key":i},body:t})).json();p(s.id)}const E=document.getElementById("newCat"),C=document.getElementById("upBtn");E.addEventListener("click",()=>{f()});C.addEventListener("click",a=>{a.preventDefault,v()});f();l();
